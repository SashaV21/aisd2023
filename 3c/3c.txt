Основные свойства таблицы
Хеш-таблица на основе вектора, использующая перемешивание сцеплением.
Элементы пространства ключей таблицы заданы следующей структурой:
struct KeySpace {
// ключ элемента
KeyType key;
// указатель на информацию
Node *node;
// указатель на следующий элемент
KeySpace *next;
};
Указатель на информацию определяет список элементов с одинаковыми значениями ключей. Элемент списка имеет следующую структуру:
struct Node {
// номер версии элемента
RelType release;
// указатель на информацию
Item *info;
// указатель на следующий элемент
Node *next;
};
Максимальный размер основной области пространства ключей ограничен величиной msize, значение которой определяется при инициализации таблицы.
В таблице могут находиться несколько элементов с одинаковыми ключами и разными номерами
версий (номер версии элемента формируется как порядковый номер элемента в последовательности
элементов с одинаковыми ключами, определяемый при включении элемента в таблицу).
Для таблицы предусмотрены следующие особые операции:
• поиск в таблице всех версий элемента, заданного ключом, или конкретной (заданной) версии
элемента, также заданного своим ключом; результатом поиска должна быть новая таблица, содержащая найденные элементы;
• «чистка таблицы» (или реорганизация таблицы) — удаление из таблицы всех версий элементов,
кроме последних.
Типы данных
Должны поддерживаться следующие типы данных:
• ключ — нуль-терминированная строка произвольной длины;
• значение — беззнаковое целое число.